(()=>{var e={593:e=>{"use strict";e.exports=require("https://jslib.k6.io/url/1.0.0/index.js")},795:e=>{"use strict";e.exports=require("k6/encoding")},255:e=>{"use strict";e.exports=require("k6/html")},409:e=>{"use strict";e.exports=require("k6/http")},175:(e,t,a)=>{const r=a(934),o=a(731);e.exports.getAuthorizationToken=function(e){return""===e.authorization.authServer||void 0===e.authorization.authServer?o.getSamAuthorizationToken(e):r.getOktaAuthorizationToken(e)}},934:(e,t,a)=>{a(593);const r=a(409),o=a(795);e.exports.getOktaAuthorizationToken=function(e){const t=e.authorization.baseURL,a=e.authorization.clientId,n=e.authorization.usePKCE,s=e.authorization.userCredential.username,i=e.authorization.userCredential.password,c=e.authorization.clientSecret,p=e.authorization.authServer,d=e.authorization.redirectURI,u=e.authorization.scopes,h="state";let l;if(!0===n){const e=`${t}/api/v1/authn`;var _={username:s,password:i},g={headers:{"Content-Type":"application/json"}};l=r.post(e,JSON.stringify(_),g);var m=JSON.parse(l.body).sessionToken;const o=new URL(`${t}/oauth2/${p}/v1/authorize`);o.searchParams.append("client_id",a),o.searchParams.append("code_challenge","h80cqY8rnCLt6_4c9K3uaaitV5M26tROeoqFIUIl-BI"),o.searchParams.append("code_challenge_method","S256"),o.searchParams.append("redirect_uri",d),o.searchParams.append("response_type","code"),o.searchParams.append("sessionToken",m),o.searchParams.append("state",h),o.searchParams.append("nonce","nonce"),o.searchParams.append("scope",u),g={headers:{"Content-Type":"application/json"},redirects:0},l=r.get(o.toString(),g);var z=new RegExp(/code=([^&]*)/).exec(l.headers.Location.toString())[1];const n=new URL(`${t}/oauth2/${p}/v1/token`);n.searchParams.append("state",h);const c={};c.client_id=a,c.grant_type="authorization_code",c.redirect_uri=d,c.code=z,c.code_verifier="0LG2f0VQBDHBiF_h2tVxFtGhVnGB~MpC6ifc-S1MCuZWC8644u7ZrIb3xlDMU.4a53ESoH_yqhi.d1be3fPcVs1.z1Td7R4zncl~-AxrJ2JPPtEUS9joBtbOu.BQyFR8",l=r.post(n.toString(),c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}else{const e=new URL(`${t}/oauth2/${p}/v1/token`),n={scope:u};if(""===s){n.grant_type="client_credentials";const t={auth:"basic",headers:{Authorization:`Basic ${o.b64encode(`${a}:${c}`)}`}};l=r.post(e.toString(),n,t)}else n.grant_type="password",n.username=s,n.password=i,n.client_id=a,n.client_secret=c,l=r.post(e.toString(),n)}return{odataURL:e.odata.url,accessToken:l.json().access_token}}},731:(e,t,a)=>{a(593);const r=a(409),o=a(255);e.exports.getSamAuthorizationToken=function(e){const t=e.authorization.baseURL,a=e.authorization.clientId,n=e.authorization.usePKCE,s=e.authorization.userCredential.username,i=e.authorization.userCredential.password,c=e.authorization.clientSecret,p=e.authorization.identityProvider,d=e.authorization.resource,u=(e.authorization.authServer,e.authorization.redirectURI),h=e.authorization.scopes;let l;if(!0===n){const e=new URL(`${t}oauth/connect/authorize`);e.searchParams.append("client_id",a),e.searchParams.append("client_secret",c),e.searchParams.append("code_challenge","h80cqY8rnCLt6_4c9K3uaaitV5M26tROeoqFIUIl-BI"),e.searchParams.append("code_challenge_method","S256"),e.searchParams.append("redirect_uri",u),e.searchParams.append("response_type","code"),e.searchParams.append("state","state"),e.searchParams.append("nonce","nonce"),e.searchParams.append("scope",h),e.searchParams.append("resource",d),e.searchParams.append("acr_values",`idp:${p}`);var _={headers:{"Content-Type":"application/x-www-form-urlencoded"}};l=r.get(e.toString());const n=o.parseHTML(l.body).find("html").children("body").children("script").text(),P=JSON.parse(n.replace(/&quot;/g,'"')),x=new RegExp(/signin=([^&]*)/).exec(P.loginUrl.toString())[1],w=P.antiForgery.value,S=new URL(`${t}oauth/login`);S.searchParams.append("signin",x);var g={headers:{"Content-Type":"application/x-www-form-urlencoded"}},m={};m.username=s,m.password=i,m.provider=p,m["idsrv.xsrf"]=w,l=r.post(S.toString(),m,g);var z=new RegExp(/code=([^&]*)/).exec(l.url)[1];const v=new URL(`${t}oauth/connect/token`);g={headers:{"Content-Type":"application/x-www-form-urlencoded"}},(m={}).client_id=a,m.client_secret=c,m.code=z,m.code_verifier="0LG2f0VQBDHBiF_h2tVxFtGhVnGB~MpC6ifc-S1MCuZWC8644u7ZrIb3xlDMU.4a53ESoH_yqhi.d1be3fPcVs1.z1Td7R4zncl~-AxrJ2JPPtEUS9joBtbOu.BQyFR8",m.grant_type="authorization_code",m.redirect_uri=u,m.resource=d,l=r.post(v.toString(),m,g)}else{const e=new URL(`${t}oauth/connect/token`),o={scope:h};""===s?(o.grant_type="client_credentials",o.resource=d,o.client_id=a,o.client_secret=c,l=r.post(e.toString(),o,_)):(o.grant_type="password",o.username=s,o.password=i,o.client_id=a,o.client_secret=c,o.resource=d,l=r.post(e.toString(),o))}return{odataURL:e.odata.url,accessToken:l.json().access_token}}}},t={},a=function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}(175),r=exports;for(var o in a)r[o]=a[o];a.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();